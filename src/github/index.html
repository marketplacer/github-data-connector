<!doctype html>
<html lang="en">
<head>
    <title>Github Data Connector</title>
    <meta http-equiv="Cache-Control" content="no-store" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="styles.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://connectors.tableau.com/libs/tableauwdc-2.4.latest.min.js" type="text/javascript"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.3/js.cookie.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/6.23.0/polyfill.js"></script>
    <script src="bundle.js"></script>
</head>
<body>
<div class="mdl-layout__container">
    <div class="mdl-layout mdl-js-layout" data-upgraded=",MaterialLayout">
        <main class="mdl-layout__content mdl-color--grey-100">
            <div class="mdl-grid demo-content">
                <!-- Anonymous content -->
                <div class="anonymous github-wdc-card mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--12-col-desktop">
                    <a href="https://github.com/tableau-mkt/github-data-connector" class="mdl-card__title mdl-card--expand mdl-color--blue-900 mdl-color-text--white">
                        <h4 class="mdl-card__title-text">GitHub Web Data Connector</h4>
                    </a>
                    <div class="mdl-card__supporting-text">
                        <p>Before we can start pulling your data into Tableau, we need to authorize this web data connector with your Github account.
                            Click the link below and follow the instructions. Upon successful authentication you will be redirected back here.</p>
                    </div>
                    <div class="mdl-card__actions mdl-card--border">
                        <a id="authenticate" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                            Authenticate
                        </a>
                    </div>
                </div>

                <!-- Authenticated content -->
                <div class="authenticated github-wdc-card mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--12-col-desktop" style="display: none;">
                    <a href="https://github.com/tableau-mkt/github-data-connector" class="mdl-card__title mdl-card--expand mdl-color--blue-900 mdl-color-text--white">
                        <h4 class="mdl-card__title-text">GitHub Web Data Connector</h4>
                    </a>
                    <form class="mdl-grid mdl-grid--nesting mdl-color-text--grey-700">
                        <div class="search-options mdl-cell mdl-cell--6-col mdl-cell--12-col-phone mdl-cell--6-col-tablet mdl-cell--6-col-desktop">
                            <h4>Get your data!</h4>
                            <div class="mdl-selectfield mdl-js-selectfield">
                                <label class="mdl-selectfield__label" for="data-type-issues">Data Type</label>
                                <select class="mdl-selectfield__select" id="data-type-issues" name="dataType">
                                    <option value="issues">Issues</option>
                                    <option value="pulls">Pull Requests</option>
                                    <option value="traffic">Traffic Stats</option>
                                </select>
                            </div>
                            <h6>Query</h6>
                            <div class="mdl-textfield mdl-textfield--full-width mdl-js-textfield mdl-textfield--floating-label">
                                <input class="mdl-textfield__input" type="text" name="query" id="query" required />
                                <label class="mdl-textfield__label" for="query">Query</label>
                            </div>
                            <input id="submit" type="submit" value="Get Data" class="mdl-button mdl-js-button mdl-button--colored mdl-button--raised mdl-js-ripple-effect" />
                        </div>
                        <div class="help mdl-cell mdl-cell--6-col mdl-cell--12-col-phone mdl-cell--6-col-tablet mdl-cell--6-col-desktop">
                            <h4>Examples</h4>
                            <div id ="help">
                                <div id="help-issues">
                                    <p>Get all issues across all the authenticated user’s visible repositories including owned repositories, member repositories, and organization repositories:</p>
                                    <pre><code>issues</code></pre>
                                    <p>Get all issues across owned and member repositories for the authenticated user:</p>
                                    <pre><code>user/issues</code></pre>
                                    <p>Get all issues for a given organization for the authenticated user:</p>
                                    <pre><code>orgs/:org/issues</code></pre>
                                    <p>Get all issues in a repository:</p>
                                    <pre><code>repos/:owner/:repo/issues</code></pre>
                                    <p>Get all issues in multiple repositories:</p>
                                    <pre><code>repos/[:owner1/:repo1,:owner2/:repo2]/issues</code></pre>
                                    <p>Search for all open issues (not pr's).<em>This is across all the authenticated user’s visible repositories including owned repositories,
                                        member repositories, and organization repositories:</em>
                                    </p>
                                    <pre><code>search/issues?q=state:open+type:issue</code></pre>
                                </div>
                                <div id="help-pulls" style="display:none;">
                                    <p>Get all pull requests in a repository:</p>
                                    <pre><code>repos/:owner/:repo/pulls</code></pre>
                                </div>
                                <div id="help-traffic" style="display:none;">
                                    <p>Get stats for one repository:</p>
                                    <pre><code>repos/:owner/:repo/traffic</code></pre>
                                    <p>Get stats for multiple repositories:</p>
                                    <pre><code>repos/[:owner1/:repo1,:owner2/:repo2]/traffic</code></pre>
                                </div>
                                <em>More information can be found on <a href="https://developer.github.com/v3">Github</a>.</em>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
